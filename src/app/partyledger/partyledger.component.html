<div class='container-fluid'>
 <div class='row'>
      <div class='col-md-8 offset-md-2'>
        <div class="card">
          <div class="" *ngIf="partyledgerData as party">
            <div class='card-header d-flex align-items-center justify-content-between'>
             <h4> Ledger </h4>
              <span clsFormDate>{{currentDate() | date:'dd-MMM-y'}}</span>
            </div>
            <ng-template #elseBlock1>No data found</ng-template>
          </div>
          
          <div class="card-body">
            <div>
              <div class="mt-3" *ngIf="partyledgerData && partyledgerData.data.length else elseBlock">
              <h4>{{partyledgerData.data[0].account.name}}</h4>
              <p>{{partyledgerData.data[0].account.contact_no}}  </p>
              </div>
               <ng-template #elseBlock> 
                <tr>
                  <td colspan=5>
                    No Data found 
                  </td>
                </tr>
              </ng-template>
              <table class="table table-striped table-bordered table-sm">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Narration</th>
                    <th scope="col">Date</th>
                    <th scope="col" class='text-right'>जमा / Receipt</th>
                    <th scope="col" class='text-right'>खर्च / Payment </th>
                  </tr>
                </thead>
                 <tbody *ngIf="partyledgerData && partyledgerData.data.length else elseBlock1">
                  <tr *ngFor="let dt of partyledgerData.data ;  index as i" >
                    <td>{{i+1}}</td>
                    <td>{{dt.narration}}</td>
                    <td>{{dt.date | date:'dd-MMM-y'}}</td>
                    <td class='text-right'><span *ngIf="dt.paymentType == 'receipt'">{{dt.amount}}</span></td>
                    <td class='text-right'><span *ngIf="dt.paymentType == 'payment'">{{dt.amount}}</span></td>
                  </tr>
                  <tr>
                    <td colspan="3"><b>Total: </b> </td>
                    <td class='text-right'> {{getTotal('receipt')}}</td>
                    <td class='text-right'>    {{ getTotal('payment') }}</td>
                  </tr>
                  <tr>
                    <td colspan=3><b>Balance: </b></td>
                    <td class='text-right' *ngIf="( getTotal('receipt'))  > ( getTotal('payment')) else elseBlock2" >
                      {{getTotal('receipt') - getTotal('payment')}}
                    </td>
                    <td class='text-right' *ngIf="(getTotal('receipt'))  < (getTotal('payment')) else elseBlock3" >
                      {{ getTotal('receipt') - getTotal('payment')  }} 
                    </td>
                  </tr>
                </tbody>
              </table>
              <ng-template #elseBlock1> 
                <tr>
                  <td colspan=5>
                    No Data found 
                  </td>
                </tr>
              </ng-template>
              <ng-template #elseBlock2><p class='text-right'>-</p></ng-template>
              <ng-template #elseBlock3><p class='text-right'>-</p></ng-template>
</div>
